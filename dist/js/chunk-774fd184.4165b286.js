(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-774fd184"],{b72d0:function(t,e,n){"use strict";var i=n("bc4a"),o=n.n(i);o.a},bc4a:function(t,e,n){},d8f8:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"containers"},[n("nav-bar",{attrs:{title:"修改手机号"}}),n("div",{staticClass:"contents"},[n("section",{staticClass:"bg-view px-10 mx-10 m-t-20 radius9"},[n("van-field",{staticClass:"input",attrs:{center:"","input-align":"right",border:!1,placeholder:"请输入手机号",label:"原手机号"},model:{value:t.number1,callback:function(e){t.number1=e},expression:"number1"}}),n("van-field",{staticClass:"input",attrs:{placeholder:"请输入验证码",border:!1,center:""},scopedSlots:t._u([{key:"label",fn:function(){return[n("span",{staticClass:"t-white"},[t._v("验证码")])]},proxy:!0},{key:"button",fn:function(){return[n("van-button",{attrs:{size:"small",color:"#27A395",disabled:t.obtainState},on:{click:function(e){return t.getCode1()}}},[t._v(t._s(t.obtainTimer?t.obtainTime:"获取验证码"))])]},proxy:!0}]),model:{value:t.code1,callback:function(e){t.code1=e},expression:"code1"}})],1),n("section",{staticClass:"bg-view px-10 mx-10 m-t-20 radius9"},[n("van-field",{staticClass:"input",attrs:{center:"","input-align":"right",border:!1,placeholder:"请输入手机号",label:"新手机号"},model:{value:t.number2,callback:function(e){t.number2=e},expression:"number2"}}),n("van-field",{staticClass:"input",attrs:{placeholder:"请输入验证码",border:!1,center:""},scopedSlots:t._u([{key:"label",fn:function(){return[n("span",{staticClass:"t-white"},[t._v("验证码")])]},proxy:!0},{key:"button",fn:function(){return[n("van-button",{attrs:{size:"small",color:"#27A395",disabled:t.obtainState2},on:{click:function(e){return t.getCode2()}}},[t._v(t._s(t.obtainTimer2?t.obtainTime2:"获取验证码"))])]},proxy:!0}]),model:{value:t.code2,callback:function(e){t.code2=e},expression:"code2"}})],1)]),n("van-button",{staticClass:"fs-lg m-b-30 mx-10",attrs:{color:"#27A495"},on:{click:t.buttonClick}},[t._v("确定")])],1)},o=[],r=n("2f62");function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u={name:"EditMobile",data:function(){return{number1:null,code1:null,number2:null,code2:null}},computed:a({},Object(r["c"])({obtainTime:function(t){return t.user.obtainTime},obtainTimer:function(t){return t.user.obtainTimer},obtainTime2:function(t){return t.user.obtainTime2},obtainTimer2:function(t){return t.user.obtainTimer2},obtainState:function(t){return t.user.obtainState},obtainState2:function(t){return t.user.obtainState2}})),methods:{buttonClick:function(){var t=this;this.number1?this.number2?this.code1&&this.code2?this.number1==this.number2?this.$toast("原手机号与新手机号不能一致"):(this.$toast({type:"loading",message:"loading...",duration:0}),this.$axios.post("/user/update",{phoneNumber:this.number1,verificationCode:this.code1,newPhoneNumber:this.number2,newVerificationCode:this.code2}).then((function(e){"success"!=e.msg?t.$toast(e.msg):(t.$toast({type:"success",message:"手机号修改成功，请重新登录"}),t.number1="",t.number2="",t.code1="",t.code2="",t.$router.push("/login"))}))):this.$toast("请输入验证码"):this.$toast("请输入新手机号"):this.$toast("请输入原手机号")},same:function(){this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"loading..."})},getCode1:function(){this.number1?(this.same(),this.$store.dispatch("sms_codeFun",{params:{phoneNumber:this.number1,verificationCode:this.code1}})):this.$toast("请输入原手机号")},getCode2:function(){this.number2?(this.same(),this.$store.dispatch("sms_codeFun2",{params:{phoneNumber:this.number2,verificationCode:this.code2}})):this.$toast("请输入新手机号")},onRecord:function(){}},destroyed:function(){this.$store.commit("obtainClear")}},l=u,b=(n("b72d0"),n("2877")),d=Object(b["a"])(l,i,o,!1,null,"4e4ef96e",null);e["default"]=d.exports}}]);
//# sourceMappingURL=chunk-774fd184.4165b286.js.map