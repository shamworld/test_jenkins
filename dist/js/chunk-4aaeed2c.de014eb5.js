(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4aaeed2c"],{ad9e:function(t,s,e){},bf98:function(t,s,e){"use strict";e.r(s);var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"containers bg-black1"},[e("navBar",{attrs:{title:"卖出",rightText:"记录明细"},on:{rightClick:t.toRecordDetails}}),e("div",{staticClass:"contents t-white m-t-10"},[e("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(s){t.isLoading=s},expression:"isLoading"}},[e("div",{staticClass:"d-flex jc-between fs-min lh-5"},[e("div",{staticClass:"price"},[e("p",{staticClass:"opacity"},[t._v("昨日币价")]),e("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.lastPrice)),e("span",{staticClass:"fs-min"},[t._v(" USDT")])]),e("p",{staticClass:"m-t-5 opacity"},[t._v("今日币价")]),e("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.price)),e("span",{staticClass:"fs-min"},[t._v(" USDT")])])]),e("div",{staticClass:"number"},[e("p",{staticClass:"opacity"},[t._v("今日交易量")]),e("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.traderNumber)+" ")]),e("p",{staticClass:"m-t-5 opacity"},[t._v("活跃度")]),e("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.active)+" ")])])]),e("div",{staticClass:"num radius bg-view fs-md m-t-15"},[e("div",{staticClass:"title"},[e("van-field",{staticClass:"num-input",attrs:{placeholder:"请输入卖出数量",type:"number",center:""},on:{input:t.selloutNumber},scopedSlots:t._u([{key:"label",fn:function(){return[e("span",{staticClass:"t-white fs-md opacity mx-10"},[t._v("卖出数量")])]},proxy:!0},{key:"right-icon",fn:function(){return[e("van-button",{staticClass:"fs-min opacity mx-10",attrs:{color:"linear-gradient(0deg, #1E4351 0%, #269887 100%)",size:"small",round:""},on:{click:t.all}},[t._v("全部")])]},proxy:!0}]),model:{value:t.number,callback:function(s){t.number=s},expression:"number"}})],1),e("div",{staticClass:"lh-7 py-10 px-10"},[e("p",{staticClass:"t-blue d-flex jc-between"},[t._v(" 当前HP余额 "),e("span",{staticClass:"t-green"},[t._v(t._s(t.list.HpBalance)+" HP")])]),e("p",{staticClass:"t-blue d-flex jc-between"},[t._v(" 订单HP单价 "),e("span",{staticClass:"t-green"},[t._v(t._s(t.itemData.price)+" USDT")])]),e("p",{staticClass:"t-blue d-flex jc-between"},[t._v(" 手续费 "),e("span",{staticClass:"t-green"},[t._v(t._s(t._f("notation")(t.service))+" HP")])]),e("p",{staticClass:"t-blue d-flex jc-between"},[t._v(" 手续费率 "),e("span",{staticClass:"t-green"},[t._v(t._s(100*t.list.feeRatio)+" %")])]),e("p",{staticClass:"t-blue d-flex jc-between"},[t._v(" 订单金额 "),e("span",{staticClass:"t-green"},[t._v(t._s(t._f("notation")(t.orderPrice))+" USDT")])])])]),e("div",{staticClass:"d-flex jc-between m-t-35"},[e("van-button",{staticClass:"fs-lg",staticStyle:{width:"48%"},attrs:{color:"#2A405C",round:""},on:{click:function(s){return t.$router.back()}}},[t._v("取消")]),e("van-button",{staticClass:"fs-lg",staticStyle:{width:"48%"},attrs:{color:"linear-gradient(0deg, #1E4351 0%, #269887 100%)",round:""},on:{click:t.selloutClick}},[t._v("卖出")])],1)])],1),e("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.safepwdIsShow,callback:function(s){t.safepwdIsShow=s},expression:"safepwdIsShow"}},[e("SafePwdPopup",{on:{onConfirm:t.onConfirm,hidden:t.onCancel,pwdValue:t.getpwdValue}})],1)],1)},a=[],n={data:function(){return{safepwdIsShow:!1,isLoading:!1,detailList:[],list:[],number:null,itemData:[],surplus:null,safeValue:null}},mounted:function(){this.requestList(),this.detailList=JSON.parse(this.$route.query.data),this.itemData=JSON.parse(this.$route.query.item)},computed:{service:function(){return this.number*this.list.feeRatio},orderPrice:function(){return(this.number-this.service)*this.itemData.price}},methods:{toRecordDetails:function(){this.$router.push("/transaction/recordDetails")},onCancel:function(t){this.safepwdIsShow=t},getpwdValue:function(t){this.safeValue=t},onConfirm:function(t){var s=this;this.safepwdIsShow=t,this.$axios.post("/commission/sell",{id:this.itemData.id,userId:this.itemData.userId,price:this.itemData.price,number:this.number}).then((function(t){console.log(t),200==t.code&&s.$toast.success("支付成功")}))},onRefresh:function(){var t=this;setTimeout((function(){t.requestList(),t.detailList=JSON.parse(t.$route.query.data),t.price=t.$route.query.price}),1e3)},requestList:function(){var t=this;this.$axios.post("/wallet/hpBalance",{}).then((function(s){t.isLoading=!1,t.list=s.data})).catch((function(s){t.isLoading=!1}))},all:function(){this.itemData=JSON.parse(this.$route.query.item),this.number=this.itemData.remaining},selloutClick:function(){this.number?this.number<=0?this.$toast("卖出数量不得小于零"):this.safepwdIsShow=!0:this.$toast("请输入卖出数量")},selloutNumber:function(){}}},l=n,c=(e("c040"),e("2877")),o=Object(c["a"])(l,i,a,!1,null,"912447bc",null);s["default"]=o.exports},c040:function(t,s,e){"use strict";var i=e("ad9e"),a=e.n(i);a.a}}]);
//# sourceMappingURL=chunk-4aaeed2c.de014eb5.js.map