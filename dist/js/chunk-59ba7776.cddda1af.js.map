{"version":3,"sources":["webpack:///./src/views/login/forget.vue?ff90","webpack:///src/views/login/forget.vue","webpack:///./src/views/login/forget.vue?88f1","webpack:///./src/views/login/forget.vue","webpack:///./src/views/login/forget.vue?7302"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","_v","proxy","model","value","callback","$$v","phone","expression","obtainState","on","$event","getCode","_s","obtainTimer","obtainTime","code","password","surePassword","onsubmit","staticRenderFns","data","codeIsShow","captcha","token","rep","repPwd","computed","mounted","methods","$toast","loading","$axios","duration","forbidClick","loadingType","message","$store","dispatch","params","phoneNumber","onClose","confirm","destroyed","commit","component"],"mappings":"kJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,cAAc,CAACF,EAAG,SAAS,CAACG,MAAM,CAAC,MAAQ,UAAUH,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,oBAAoB,CAACF,EAAG,WAAW,CAACA,EAAG,KAAK,CAACE,YAAY,oBAAoB,CAACF,EAAG,KAAK,CAACA,EAAG,YAAY,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,YAAc,QAAQ,QAAS,EAAM,OAAS,GAAG,cAAc,SAASC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIY,GAAG,WAAWC,OAAM,KAAQC,MAAM,CAACC,MAAOf,EAAS,MAAEgB,SAAS,SAAUC,GAAMjB,EAAIkB,MAAMD,GAAKE,WAAW,YAAY,GAAGf,EAAG,KAAK,CAACA,EAAG,YAAY,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,SAAS,YAAc,SAAS,QAAS,EAAM,OAAS,GAAG,cAAc,SAASC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIY,GAAG,WAAWC,OAAM,GAAM,CAACH,IAAI,SAASC,GAAG,WAAW,MAAO,CAACP,EAAG,aAAa,CAACG,MAAM,CAAC,KAAO,QAAQ,MAAQ,UAAU,SAAWP,EAAIoB,aAAaC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAIuB,aAAa,CAACvB,EAAIY,GAAGZ,EAAIwB,GAAGxB,EAAIyB,YAAczB,EAAI0B,WAAa,cAAcb,OAAM,KAAQC,MAAM,CAACC,MAAOf,EAAQ,KAAEgB,SAAS,SAAUC,GAAMjB,EAAI2B,KAAKV,GAAKE,WAAW,WAAW,GAAGf,EAAG,KAAK,CAACA,EAAG,YAAY,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,WAAW,YAAc,YAAY,QAAS,EAAM,OAAS,GAAG,cAAc,SAASC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIY,GAAG,aAAaC,OAAM,KAAQC,MAAM,CAACC,MAAOf,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAI4B,SAASX,GAAKE,WAAW,eAAe,GAAGf,EAAG,KAAK,CAACA,EAAG,YAAY,CAACE,YAAY,QAAQC,MAAM,CAAC,KAAO,WAAW,YAAc,YAAY,QAAS,EAAM,OAAS,GAAG,cAAc,SAASC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACP,EAAG,OAAO,CAACE,YAAY,WAAW,CAACN,EAAIY,GAAG,cAAcC,OAAM,KAAQC,MAAM,CAACC,MAAOf,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAI6B,aAAaZ,GAAKE,WAAW,mBAAmB,KAAKf,EAAG,aAAa,CAACE,YAAY,2BAA2BC,MAAM,CAAC,MAAQ,GAAG,cAAc,SAAS,MAAQ,WAAWc,GAAG,CAAC,MAAQrB,EAAI8B,WAAW,CAAC9B,EAAIY,GAAG,WAAW,IAAI,MAAM,IACnoEmB,EAAkB,G,msBCuGtB,OACEC,KADF,WAEI,MAAO,CACLd,MAAO,GACPS,KAAM,GACNC,SAAU,GACVC,aAAc,GACdI,YAAY,EACZC,QAAS,GACTC,MAAO,GACPC,IAAK,oBACLC,OAAQ,+CAGZC,SAAU,EAAZ,GACA,gBACI,WAAJ,YAAM,OAAN,mBACI,YAAJ,YAAM,OAAN,oBACI,YAAJ,YAAM,OAAN,uBAGEC,QArBF,aAsBEC,QAAS,CAEPV,SAFJ,WAEA,WAEW7B,KAAKiB,MAEhB,0BAEA,UAEA,cAEA,gCAEA,kBAEA,iCACQjB,KAAKwC,OAAO,cAGZxC,KAAKwC,OAAOC,QAAQ,cACpBzC,KAAK0C,OACb,6BACU,YAAV,WACU,iBAAV,UACU,SAAV,gBAEA,kBACU,QAAV,OACA,mBACY,EAAZ,+BACY,EAAZ,wBAEY,EAAZ,sBAGA,mBACU,EAAV,uBAtBQ1C,KAAKwC,OAAO,YAFZxC,KAAKwC,OAAO,oBAFZxC,KAAKwC,OAAO,UAFZxC,KAAKwC,OAAO,YAFZxC,KAAKwC,OAAO,YAFZxC,KAAKwC,OAAO,WAqChBlB,QA1CJ,WA6CWtB,KAAKiB,OAIVjB,KAAKwC,OAAOC,QAAQ,CAClBE,SAAU,EACVC,aAAa,EACbC,YAAa,UACbC,QAAS,eAEX9C,KAAK+C,OAAOC,SAAS,cAAe,CAClCC,OAAQ,CACNC,YAAalD,KAAKiB,UAXpBjB,KAAKwC,OAAO,WAgBhBW,QA9DJ,WA+DMnD,KAAKgC,YAAa,GAGpBoB,QAlEJ,SAkEA,GACMpD,KAAKgC,YAAa,EAClBhC,KAAKiC,QAAUA,IAInBoB,UA9FF,WA+FIrD,KAAK+C,OAAOO,OAAO,iBCvMwU,I,wBCQ3VC,EAAY,eACd,EACAzD,EACAgC,GACA,EACA,KACA,WACA,MAIa,aAAAyB,E,2CCnBf,yBAAooB,EAAG","file":"js/chunk-59ba7776.cddda1af.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"containers\"},[_c('navBar',{attrs:{\"title\":\"忘记密码\"}}),_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"main-item m-t-30\"},[_c('van-form',[_c('ul',{staticClass:\"t-white bg-blue1\"},[_c('li',[_c('van-field',{staticClass:\"input\",attrs:{\"type\":\"number\",\"placeholder\":\"输入手机号\",\"border\":false,\"center\":\"\",\"input-align\":\"right\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',{staticClass:\"t-white\"},[_vm._v(\"手机号\")])]},proxy:true}]),model:{value:(_vm.phone),callback:function ($$v) {_vm.phone=$$v},expression:\"phone\"}})],1),_c('li',[_c('van-field',{staticClass:\"input\",attrs:{\"type\":\"number\",\"placeholder\":\"请输入验证码\",\"border\":false,\"center\":\"\",\"input-align\":\"right\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',{staticClass:\"t-white\"},[_vm._v(\"验证码\")])]},proxy:true},{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"color\":\"#27A395\",\"disabled\":_vm.obtainState},on:{\"click\":function($event){return _vm.getCode()}}},[_vm._v(_vm._s(_vm.obtainTimer ? _vm.obtainTime : \"获取验证码\"))])]},proxy:true}]),model:{value:(_vm.code),callback:function ($$v) {_vm.code=$$v},expression:\"code\"}})],1),_c('li',[_c('van-field',{staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"请输入新的登录密码\",\"border\":false,\"center\":\"\",\"input-align\":\"right\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',{staticClass:\"t-white\"},[_vm._v(\"新登录密码\")])]},proxy:true}]),model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1),_c('li',[_c('van-field',{staticClass:\"input\",attrs:{\"type\":\"password\",\"placeholder\":\"请再次输入登录密码\",\"border\":false,\"center\":\"\",\"input-align\":\"right\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_c('span',{staticClass:\"t-white\"},[_vm._v(\"确定登录密码\")])]},proxy:true}]),model:{value:(_vm.surePassword),callback:function ($$v) {_vm.surePassword=$$v},expression:\"surePassword\"}})],1)]),_c('van-button',{staticClass:\"submit-btn t-white fs-lg\",attrs:{\"block\":\"\",\"native-type\":\"submit\",\"color\":\"#27A395\"},on:{\"click\":_vm.onsubmit}},[_vm._v(\" 确定 \")])],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"containers\">\n    <!-- 忘记密码 -->\n    <navBar title=\"忘记密码\"></navBar>\n    <div class=\"main\">\n      <div class=\"main-item m-t-30\">\n        <van-form>\n          <ul class=\"t-white bg-blue1\">\n            <li>\n              <van-field\n                v-model=\"phone\"\n                type=\"number\"\n                placeholder=\"输入手机号\"\n                :border=\"false\"\n                class=\"input\"\n                center\n                input-align=\"right\"\n              >\n                <template #label>\n                  <span class=\"t-white\">手机号</span>\n                </template>\n              </van-field>\n            </li>\n            <li>\n              <van-field\n                v-model=\"code\"\n                type=\"number\"\n                placeholder=\"请输入验证码\"\n                :border=\"false\"\n                class=\"input\"\n                center\n                input-align=\"right\"\n              >\n                <template #label>\n                  <span class=\"t-white\">验证码</span>\n                </template>\n                <template #button>\n                  <van-button\n                    size=\"small\"\n                    color=\"#27A395\"\n                    @click=\"getCode()\"\n                    :disabled=\"obtainState\"\n                    >{{ obtainTimer ? obtainTime : \"获取验证码\" }}</van-button\n                  >\n                </template>\n              </van-field>\n            </li>\n            <li>\n              <van-field\n                v-model=\"password\"\n                type=\"password\"\n                placeholder=\"请输入新的登录密码\"\n                :border=\"false\"\n                class=\"input\"\n                center\n                input-align=\"right\"\n              >\n                <template #label>\n                  <span class=\"t-white\">新登录密码</span>\n                </template>\n              </van-field>\n            </li>\n            <li>\n              <van-field\n                v-model=\"surePassword\"\n                type=\"password\"\n                placeholder=\"请再次输入登录密码\"\n                :border=\"false\"\n                class=\"input\"\n                center\n                input-align=\"right\"\n              >\n                <template #label>\n                  <span class=\"t-white\">确定登录密码</span>\n                </template>\n              </van-field>\n            </li>\n          </ul>\n          <van-button\n            block\n            native-type=\"submit\"\n            color=\"#27A395\"\n            class=\"submit-btn t-white fs-lg\"\n            @click=\"onsubmit\"\n          >\n            确定\n          </van-button>\n        </van-form>\n      </div>\n    </div>\n    <!-- 验证码弹窗 -->\n    <!-- <van-popup v-model=\"codeIsShow\" position=\"bottom\">\n      <CodePopup\n        @onClose=\"onClose\"\n        @confirm=\"confirm\"\n        :phone=\"phone\"\n      ></CodePopup>\n    </van-popup> -->\n  </div>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\n\nexport default {\n  data() {\n    return {\n      phone: \"\", //手机号\n      code: \"\", //验证码\n      password: \"\", //新的登录密码\n      surePassword: \"\", //确定新的登录密码\n      codeIsShow: false,\n      captcha: {},\n      token: \"\",\n      rep: /^1[3456789]\\d{9}$/,\n      repPwd: /^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,}$/,\n    };\n  },\n  computed: {\n    ...mapState({\n      obtainTime: (state) => state.user.obtainTime,\n      obtainTimer: (state) => state.user.obtainTimer,\n      obtainState: (state) => state.user.obtainState,\n    }),\n  },\n  mounted() {},\n  methods: {\n    // 提交确定\n    onsubmit() {\n      // console.log(localStorage.getItem(\"tokens\"));\n      if (!this.phone) {\n        this.$toast(\"请输入手机号\");\n      } else if (!this.rep.test(this.phone)) {\n        this.$toast(\"手机号格式不正确\");\n      } else if (!this.code) {\n        this.$toast(\"请输入短信验证码\");\n      } else if (!this.password) {\n        this.$toast(\"请输入新密码\");\n      } else if (!this.repPwd.test(this.password)) {\n        this.$toast(\"密码至少8位，要求必须字母、数字\");\n      } else if (!this.surePassword) {\n        this.$toast(\"请再次输入新密码\");\n      } else if (this.password != this.surePassword) {\n        this.$toast(\"两次密码输入不一致\");\n      } else {\n        // 修改密码\n        this.$toast.loading(\"loading...\");\n        this.$axios\n          .post(\"/user/forgetPassword\", {\n            phoneNumber: this.phone,\n            verificationCode: this.code,\n            password: this.password,\n          })\n          .then((res) => {\n            console.log(res);\n            if (res.msg === \"success\") {\n              this.$toast.success(\"密码修改成功，请重新登录\");\n              this.$router.push(\"/login\");\n            } else {\n              this.$toast.fail(res.msg);\n            }\n          })\n          .catch((err) => {\n            this.$toast.fail(err.msg);\n          });\n      }\n    },\n    // 获取验证码\n    getCode() {\n      // this.codeIsShow = true;\n\n      if (!this.phone) {\n        this.$toast(\"请输入手机号\");\n        return;\n      }\n      this.$toast.loading({\n        duration: 0, // 持续展示 toast\n        forbidClick: true, // 禁用背景点击\n        loadingType: \"spinner\",\n        message: \"loading...\",\n      });\n      this.$store.dispatch(\"sms_codeFun\", {\n        params: {\n          phoneNumber: this.phone,\n        },\n      });\n    },\n    // 取消\n    onClose() {\n      this.codeIsShow = false;\n    },\n    // 确定\n    confirm(captcha) {\n      this.codeIsShow = false;\n      this.captcha = captcha;\n    },\n  },\n  // components: { CodePopup },\n  destroyed() {\n    this.$store.commit(\"obtainClear\");\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.main {\n  padding: 0 24px;\n  .main-item {\n    ul {\n      border-radius: 8px;\n    }\n    ul li {\n      border-bottom: 1px solid #2a4d62;\n      padding: 0 19px;\n      box-sizing: border-box;\n      font-size: 15px;\n      .input {\n        height: 91px;\n        background-color: transparent;\n      }\n      ::-webkit-input-placeholder {\n        text-align: right;\n      }\n    }\n    .submit-btn {\n      width: 93%;\n      position: absolute;\n      bottom: 97px;\n    }\n  }\n}\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./forget.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./forget.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./forget.vue?vue&type=template&id=3af73d9d&scoped=true&\"\nimport script from \"./forget.vue?vue&type=script&lang=js&\"\nexport * from \"./forget.vue?vue&type=script&lang=js&\"\nimport style0 from \"./forget.vue?vue&type=style&index=0&id=3af73d9d&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3af73d9d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./forget.vue?vue&type=style&index=0&id=3af73d9d&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/sass-resources-loader/lib/loader.js??ref--8-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./forget.vue?vue&type=style&index=0&id=3af73d9d&lang=scss&scoped=true&\""],"sourceRoot":""}