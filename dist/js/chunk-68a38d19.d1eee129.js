(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68a38d19"],{"886f":function(t,e,s){"use strict";var i=s("c3c2"),a=s.n(i);a.a},"9cc8":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"containers bg-black1"},[s("navBar",{attrs:{title:"我要买入",rightText:"记录明细"},on:{rightClick:t.toRecordDetails}}),s("div",{staticClass:"contents t-white m-t-10"},[s("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[s("div",{staticClass:"d-flex jc-between fs-min lh-5"},[s("div",{staticClass:"price"},[s("p",{staticClass:"opacity"},[t._v("昨日币价")]),s("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.lastPrice)),s("span",{staticClass:"fs-min"},[t._v("USDT")])]),s("p",{staticClass:"m-t-5 opacity"},[t._v("今日币价")]),s("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.price)),s("span",{staticClass:"fs-min"},[t._v("USDT")])])]),s("div",{staticClass:"number"},[s("p",{staticClass:"opacity"},[t._v("今日交易量")]),s("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.traderNumber)+" ")]),s("p",{staticClass:"m-t-5 opacity"},[t._v("活跃度")]),s("p",{staticClass:"t-green fs-lg"},[t._v(" "+t._s(t.detailList.active)+" ")])])]),s("div",{staticClass:"content m-t-15 bg-view radius"},[s("ul",[s("li",{staticClass:"d-flex jc-between ai-center"},[s("span",{staticClass:"t-white fs-md opacity mx-10"},[t._v("挂单价格")]),s("span",{staticClass:"t-white fs-md opacity mx-10"},[t._v(t._s(t.detailList.price))])]),s("li",[s("van-field",{staticClass:"input num-input",attrs:{placeholder:"请输入买入数量",type:"number",center:""},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",{staticClass:"t-white fs-md opacity mx-10"},[t._v("买入数量")])]},proxy:!0},{key:"right-icon",fn:function(){return[s("van-button",{staticClass:"fs-min opacity mx-10",attrs:{color:"linear-gradient(0deg, #1E4351 0%, #269887 100%)",size:"small",round:""}},[t._v("全部")])]},proxy:!0}]),model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),s("li",{staticClass:"d-flex jc-between ai-center",staticStyle:{border:"none"}},[s("span",{staticClass:"t-white fs-md opacity mx-10"},[t._v("USDT 总价")]),s("span",{staticClass:"t-green fs-md mx-10"},[t._v(t._s(t._f("notation")(t.detailList.price*t.number))+" USDT")])])])]),s("div",{staticClass:"d-flex jc-between my-35"},[s("van-button",{staticClass:"fs-lg opacity",staticStyle:{width:"48%"},attrs:{color:"#2A405C",round:""},on:{click:function(e){return t.$router.back()}}},[t._v("取消")]),s("van-button",{staticClass:"fs-lg",staticStyle:{width:"48%"},attrs:{color:"linear-gradient(0deg, #1E4351 0%, #269887 100%)",round:""},on:{click:t.buyClick}},[t._v("我要买入")])],1),s("van-list",{staticClass:"bg-view p-t-5 m-t-10 fs-min radius9",attrs:{finished:t.finished,"finished-text":t.$t("no_more"),"loading-text":t.$t("loading"),"error.sync":"","error-text":"加载失败，请重新加载"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("div",{staticClass:"order bg-view radius"},[s("van-tabs",{staticClass:"tabs",attrs:{color:"#2AB4A1","title-active-color":"#2AB4A1","title-inactive-color":"#7494AD","line-height":"2px","line-width":"85px",border:!1},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[s("van-tab",{attrs:{title:"求购列表"}},[s("div",{staticClass:"buy t-white w-100"},[s("ul",t._l(t.list,(function(e,i){return s("li",{key:i,staticClass:"fs-min t-grey lh-7 bg-view"},[s("div",{staticClass:"d-flex jc-between ai-center"},[s("p",{staticClass:"d-flex jc-between t-black2"},[t._v(" "+t._s(e.createTime)+" ")]),s("van-button",{attrs:{color:"linear-gradient(0deg, #1E4351 0%, #269887 100%)",round:"",size:"mini"},on:{click:function(s){return t.toSellout(e)}}},[t._v("卖出")])],1),s("div",{staticClass:"d-flex fs-min"},[s("div",{staticClass:"left"},[s("p",{staticClass:"d-flex jc-between"},[t._v(" 价格 "),s("span",[t._v(t._s(e.price))])]),s("p",{staticClass:"d-flex jc-between"},[t._v(" 已成交 "),s("span",[t._v(t._s(e.alreadyTraded))])])]),s("div",{staticClass:"right"},[s("p",{staticClass:"d-flex jc-between"},[t._v(" 数量 "),s("span",[t._v(t._s(e.number))])]),s("p",{staticClass:"d-flex jc-between"},[t._v(" 剩余 "),s("span",[t._v(t._s(e.remaining))])])])])])})),0)])])],1)],1)])],1)],1),s("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.safepwdIsShow,callback:function(e){t.safepwdIsShow=e},expression:"safepwdIsShow"}},[s("SafePwdPopup",{on:{onConfirm:t.onConfirm,hidden:t.onCancel,pwdValue:t.getpwdValue}})],1)],1)},a=[];function n(t){return c(t)||l(t)||r(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function r(t,e){if(t){if("string"===typeof t)return u(t,e);var s=Object.prototype.toString.call(t).slice(8,-1);return"Object"===s&&t.constructor&&(s=t.constructor.name),"Map"===s||"Set"===s?Array.from(t):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?u(t,e):void 0}}function l(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function c(t){if(Array.isArray(t))return u(t)}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var s=0,i=new Array(e);s<e;s++)i[s]=t[s];return i}var d={data:function(){return{active:0,safepwdIsShow:!1,isLoading:!1,finished:!1,loading:!1,totalPage:1,pageNumber:1,detailList:[],list:[],price:null,number:null}},mounted:function(){this.init(),this.detailList=JSON.parse(this.$route.query.data)},methods:{toRecordDetails:function(){this.$router.push("/transaction/recordDetails")},toSellout:function(t){this.$router.push({path:"/sellout",query:{data:JSON.stringify(this.detailList),item:JSON.stringify(t)}})},onCancel:function(t){this.safepwdIsShow=t},onConfirm:function(t){var e=this;this.safepwdIsShow=t,this.$axios.post("/commission/save",{number:Number(this.number),price:this.detailList.price}).then((function(t){200!=t.code?e.$toast(t.msg):(console.log(t),200==t.code&&(e.$toast.success("支付成功"),e.number=""))}))},buyClick:function(){this.number?this.number<=0?this.$toast("买入数量不得为零或者小于零"):this.safepwdIsShow=!0:this.$toast("请输入买入数量")},getpwdValue:function(t){},init:function(){this.totalPage=1,this.pageNumber=1,this.requestList()},onRefresh:function(){var t=this;setTimeout((function(){t.totalPage=1,t.pageNumber=1,t.requestList(),t.detailList=JSON.parse(t.$route.query.data)}),1e3)},requestList:function(){var t=this;this.$axios.post("/commission/list?page=".concat(this.pageNumber,"&limit=",10),{page:this.pageNumber}).then((function(e){t.loading=!1,t.isLoading=!1,t.finished=!1;var s,i=e.page.data;1==t.pageNumber?(t.list=[],t.list=i,t.finished=!0,t.totalPage=e.page.totalPage):(s=t.list).push.apply(s,n(i))})).catch((function(e){t.isLoading=!1}))},onLoad:function(){var t=this;setTimeout((function(){t.pageNumber>=t.totalPage?(t.finished=!0,t.loading=!1):(t.pageNumber++,t.requestList())}),500)}}},p=d,f=(s("886f"),s("2877")),m=Object(f["a"])(p,i,a,!1,null,"9499133c",null);e["default"]=m.exports},c3c2:function(t,e,s){}}]);
//# sourceMappingURL=chunk-68a38d19.d1eee129.js.map