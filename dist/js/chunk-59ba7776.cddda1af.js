(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59ba7776"],{"2fbc":function(t,e,s){},"85aa":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"containers"},[s("navBar",{attrs:{title:"忘记密码"}}),s("div",{staticClass:"main"},[s("div",{staticClass:"main-item m-t-30"},[s("van-form",[s("ul",{staticClass:"t-white bg-blue1"},[s("li",[s("van-field",{staticClass:"input",attrs:{type:"number",placeholder:"输入手机号",border:!1,center:"","input-align":"right"},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",{staticClass:"t-white"},[t._v("手机号")])]},proxy:!0}]),model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),s("li",[s("van-field",{staticClass:"input",attrs:{type:"number",placeholder:"请输入验证码",border:!1,center:"","input-align":"right"},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",{staticClass:"t-white"},[t._v("验证码")])]},proxy:!0},{key:"button",fn:function(){return[s("van-button",{attrs:{size:"small",color:"#27A395",disabled:t.obtainState},on:{click:function(e){return t.getCode()}}},[t._v(t._s(t.obtainTimer?t.obtainTime:"获取验证码"))])]},proxy:!0}]),model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),s("li",[s("van-field",{staticClass:"input",attrs:{type:"password",placeholder:"请输入新的登录密码",border:!1,center:"","input-align":"right"},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",{staticClass:"t-white"},[t._v("新登录密码")])]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("li",[s("van-field",{staticClass:"input",attrs:{type:"password",placeholder:"请再次输入登录密码",border:!1,center:"","input-align":"right"},scopedSlots:t._u([{key:"label",fn:function(){return[s("span",{staticClass:"t-white"},[t._v("确定登录密码")])]},proxy:!0}]),model:{value:t.surePassword,callback:function(e){t.surePassword=e},expression:"surePassword"}})],1)]),s("van-button",{staticClass:"submit-btn t-white fs-lg",attrs:{block:"","native-type":"submit",color:"#27A395"},on:{click:t.onsubmit}},[t._v(" 确定 ")])],1)],1)])],1)},n=[],i=s("2f62");function a(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function r(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?a(Object(s),!0).forEach((function(e){c(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):a(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}function c(t,e,s){return e in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}var u={data:function(){return{phone:"",code:"",password:"",surePassword:"",codeIsShow:!1,captcha:{},token:"",rep:/^1[3456789]\d{9}$/,repPwd:/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{8,}$/}},computed:r({},Object(i["c"])({obtainTime:function(t){return t.user.obtainTime},obtainTimer:function(t){return t.user.obtainTimer},obtainState:function(t){return t.user.obtainState}})),mounted:function(){},methods:{onsubmit:function(){var t=this;this.phone?this.rep.test(this.phone)?this.code?this.password?this.repPwd.test(this.password)?this.surePassword?this.password!=this.surePassword?this.$toast("两次密码输入不一致"):(this.$toast.loading("loading..."),this.$axios.post("/user/forgetPassword",{phoneNumber:this.phone,verificationCode:this.code,password:this.password}).then((function(e){console.log(e),"success"===e.msg?(t.$toast.success("密码修改成功，请重新登录"),t.$router.push("/login")):t.$toast.fail(e.msg)})).catch((function(e){t.$toast.fail(e.msg)}))):this.$toast("请再次输入新密码"):this.$toast("密码至少8位，要求必须字母、数字"):this.$toast("请输入新密码"):this.$toast("请输入短信验证码"):this.$toast("手机号格式不正确"):this.$toast("请输入手机号")},getCode:function(){this.phone?(this.$toast.loading({duration:0,forbidClick:!0,loadingType:"spinner",message:"loading..."}),this.$store.dispatch("sms_codeFun",{params:{phoneNumber:this.phone}})):this.$toast("请输入手机号")},onClose:function(){this.codeIsShow=!1},confirm:function(t){this.codeIsShow=!1,this.captcha=t}},destroyed:function(){this.$store.commit("obtainClear")}},l=u,p=(s("fac3"),s("2877")),d=Object(p["a"])(l,o,n,!1,null,"3af73d9d",null);e["default"]=d.exports},fac3:function(t,e,s){"use strict";var o=s("2fbc"),n=s.n(o);n.a}}]);
//# sourceMappingURL=chunk-59ba7776.cddda1af.js.map